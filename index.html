<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <title>AR English Eat - M.1 Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', sans-serif; background: #0f172a; overscroll-behavior: none; }
        canvas { width: 100%; height: 100%; object-fit: cover; }
        .glass { background: rgba(17, 24, 39, 0.85); backdrop-filter: blur(8px); border: 1px solid rgba(255,255,255,0.1); }
        .btn-game { background: linear-gradient(to bottom, #a855f7, #7e22ce); box-shadow: 0 4px 0 #581c87; transition: all 0.1s; cursor: pointer; }
        .btn-game:active { transform: translateY(2px); box-shadow: 0 2px 0 #581c87; }
        .loader { width: 40px; height: 40px; border: 4px solid #FFF; border-bottom-color: #a855f7; border-radius: 50%; animation: rot 1s linear infinite; }
        @keyframes rot { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .mic-listening { animation: pulse 1.5s infinite; border-color: #f87171 !important; background: #ef4444 !important; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
    </style>
</head>
<body class="h-screen w-screen overflow-hidden text-white select-none">

    <div id="game-container" class="relative w-full h-full flex justify-center items-center">
        <video id="input_video" class="hidden" playsinline></video>
        <canvas id="output-canvas" class="absolute inset-0"></canvas>
        
        <div id="quick-loader" class="absolute z-20 flex flex-col items-center justify-center pointer-events-none hidden">
            <span class="loader mb-2"></span>
            <p class="text-white text-xs bg-black/50 px-3 py-1 rounded-full">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ AR...</p>
        </div>

        <div id="ui-layer" class="absolute inset-0 pointer-events-none flex flex-col justify-between p-4 z-10">
            <div id="hud" class="glass rounded-2xl p-3 flex flex-col gap-2 transition-opacity duration-300 hidden">
                <div class="flex justify-between items-center px-1">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center font-bold text-xl shadow-lg" id="score-box">0</div>
                        <div class="text-xs text-gray-300"><div class="font-bold text-white">SCORE</div><div id="player-label">Guest</div></div>
                    </div>
                </div>
                <div id="question-text" class="text-center text-yellow-300 text-lg md:text-xl font-bold py-1 bg-black/20 rounded-lg">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°...</div>
            </div>
            <div id="toast" class="self-center glass px-8 py-3 rounded-full text-base font-bold hidden shadow-2xl transition-opacity duration-300"></div>
        </div>

        <div id="screen-login" class="absolute inset-0 bg-[#0f172a] z-50 flex flex-col justify-center items-center p-6 text-center">
            <div class="mb-8">
                <h1 class="text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">AR English Eat</h1>
                <p class="text-gray-400 text-sm mt-1">M.1 Adventure</p>
            </div>
            <div class="glass p-8 rounded-3xl w-full max-w-sm space-y-4 shadow-2xl pointer-events-auto">
                <input type="text" id="inp-name" class="w-full bg-gray-800/50 border border-gray-600 rounded-xl p-3 text-white focus:border-purple-500 outline-none" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô">
                <input type="number" id="inp-num" class="w-full bg-gray-800/50 border border-gray-600 rounded-xl p-3 text-white focus:border-purple-500 outline-none" placeholder="‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà">
                <button onclick="showRules()" class="w-full btn-game py-4 rounded-xl font-bold text-lg">üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢</button>
            </div>
        </div>

        <div id="screen-rules" class="absolute inset-0 bg-[#0f172a]/95 z-[60] hidden flex flex-col justify-center items-center p-6">
            <div class="glass p-6 rounded-3xl w-full max-w-md space-y-6 border-purple-500/50 border-2 pointer-events-auto">
                <h2 class="text-2xl font-black text-center text-purple-400 tracking-wider">üìú ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
                <div class="space-y-4 text-sm md:text-base">
                    <p class="flex items-start gap-2"><span>üëÑ</span> <b>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</b> ‡∏≠‡πâ‡∏≤‡∏õ‡∏≤‡∏Å‡∏Ñ‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                    <p class="flex items-start gap-2"><span>üéôÔ∏è</span> <b>‡∏Å‡∏≤‡∏£‡∏û‡∏π‡∏î:</b> ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏ô‡∏ñ‡∏π‡∏Å ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≥‡∏ô‡∏±‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡∏Ñ‡πå</p>
                    <div class="grid grid-cols-2 gap-2 mt-4 text-center">
                        <div class="bg-black/30 p-2 rounded-lg border border-green-500/30">
                            <p class="text-[10px] text-gray-400">‡∏Å‡∏¥‡∏ô‡∏ñ‡∏π‡∏Å</p><p class="font-bold text-green-400">+5</p>
                        </div>
                        <div class="bg-black/30 p-2 rounded-lg border border-red-500/30">
                            <p class="text-[10px] text-gray-400">‡∏Å‡∏¥‡∏ô‡∏ú‡∏¥‡∏î</p><p class="font-bold text-red-400">-5</p>
                        </div>
                        <div class="bg-black/30 p-2 rounded-lg border border-blue-500/30">
                            <p class="text-[10px] text-gray-400">‡∏û‡∏π‡∏î‡∏ñ‡∏π‡∏Å</p><p class="font-bold text-blue-400">+5</p>
                        </div>
                        <div class="bg-black/30 p-2 rounded-lg border border-gray-500/30">
                            <p class="text-[10px] text-gray-400">‡∏Å‡∏î‡∏Ç‡πâ‡∏≤‡∏°</p><p class="font-bold text-gray-400">-2</p>
                        </div>
                    </div>
                </div>
                <button onclick="startGameFlow()" class="w-full btn-game py-4 rounded-xl font-bold text-xl">‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏Å‡∏°!</button>
            </div>
        </div>

        <div id="screen-speech" class="absolute inset-0 bg-black/95 z-30 hidden flex-col justify-center items-center text-center p-6 backdrop-blur-xl">
            <h2 class="text-xl text-purple-300 font-bold mb-2">‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ</h2>
            <div id="sp-word" class="text-6xl font-extrabold text-white mb-2">...</div>
            <div id="sp-reading" class="text-2xl text-purple-400 font-medium mb-4 italic">...</div>
            <div id="sp-meaning" class="text-xl text-yellow-400 font-bold bg-gray-800 px-6 py-2 rounded-full border border-yellow-500/30 mb-12">...</div>
            <button id="mic-btn" onclick="toggleListening()" class="w-24 h-24 flex items-center justify-center bg-purple-600 rounded-full border-4 border-purple-400 transition-all pointer-events-auto">
                <div id="mic-icon" class="text-4xl">üéôÔ∏è</div>
            </button>
            <p id="sp-status" class="mt-8 text-white/70 font-medium">‡∏Å‡∏î‡πÑ‡∏°‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏û‡∏π‡∏î</p>
            <button onclick="endSpeech(false)" class="mt-12 text-sm text-gray-400 underline pointer-events-auto">‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ (-2 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</button>
        </div>

        <div id="screen-end" class="absolute inset-0 bg-[#0f172a] z-50 hidden flex flex-col justify-center items-center p-6 text-center">
            <h1 class="text-5xl font-black text-white mb-2">‡∏à‡∏ö‡πÄ‡∏Å‡∏°!</h1>
            <div class="mb-6">
                <span id="end-player" class="text-purple-400 font-bold text-2xl">Guest</span>
                <div class="text-yellow-500 font-bold">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà: <span id="final-number">-</span></div>
            </div>
            <div class="bg-gray-800/50 p-8 rounded-full border-4 border-yellow-400/50 mb-8 w-44 h-44 flex items-center justify-center">
                <div><div class="text-xs text-gray-400">SCORE</div><div id="final-score" class="text-5xl font-black text-yellow-400">0</div></div>
            </div>
            <button onclick="location.reload()" class="w-full max-w-xs bg-purple-600 py-4 rounded-xl font-bold pointer-events-auto">üîÑ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        </div>
    </div>

<script>
// --- ‡πÄ‡∏Å‡∏°‡πÄ‡∏ã‡∏ï‡∏ï‡∏¥‡πâ‡∏á ---
const CFG = { gravity: 1.5, spawnRate: 110, eatDist: 100, mouthThresh: 0.04 };
window.G = {
    playing: false, score: 0, qIdx: 0, items: [], 
    mouth: {x:0, y:0, open:false}, user: {name:'', number:''},
    pendingItem: null, isListening: false
};

const QUESTIONS = [
    { q: "He ______ TV every evening.", c: "watches", w: ["watch", "watching"], m: "‡∏î‡∏π‡∏ó‡∏µ‡∏ß‡∏µ (‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥)", p: "‡∏ß‡∏≠‡∏ä-‡πÄ‡∏ä‡∏™" },
    { q: "She ______ her teeth twice a day.", c: "brushes", w: ["brush", "brushed"], m: "‡πÅ‡∏õ‡∏£‡∏á‡∏ü‡∏±‡∏ô", p: "‡∏ö‡∏£‡∏±‡∏ä-‡πÄ‡∏ä‡∏™" },
    { q: "Tom ______ his face in the morning.", c: "washes", w: ["wash", "washing"], m: "‡∏•‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤", p: "‡∏ß‡∏≠‡∏ä-‡πÄ‡∏ä‡∏™" },
    { q: "My dad ______ football on Sundays.", c: "plays", w: ["play", "played"], m: "‡πÄ‡∏•‡πà‡∏ô‡∏ü‡∏∏‡∏ï‡∏ö‡∏≠‡∏•", p: "‡πÄ‡∏û‡∏•‡∏¢‡πå-‡∏™‡∏∂" },
    { q: "She ______ to school by bus.", c: "goes", w: ["go", "going"], m: "‡πÑ‡∏õ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô", p: "‡πÇ‡∏Å‡∏ß-‡∏™‡∏∂" },
    { q: "He ______ his homework at 5 PM.", c: "does", w: ["do", "doing"], m: "‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ö‡πâ‡∏≤‡∏ô", p: "‡∏î‡∏±‡∏™" },
    { q: "My sister ______ a book before bed.", c: "reads", w: ["read", "reading"], m: "‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠", p: "‡∏£‡∏µ‡∏î-‡∏™‡∏∂" },
    { q: "It ______ a lot in June.", c: "rains", w: ["rain", "raining"], m: "‡∏ù‡∏ô‡∏ï‡∏Å", p: "‡πÄ‡∏£‡∏ô-‡∏™‡∏∂" },
    { q: "My mom ______ delicious food.", c: "cooks", w: ["cook", "cooked"], m: "‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£", p: "‡∏Ñ‡∏∏‡πâ‡∏Å-‡∏™‡∏∂" },
    { q: "She ______ happy today.", c: "looks", w: ["look", "looking"], m: "‡∏î‡∏π‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç", p: "‡∏•‡∏∏‡πâ‡∏Ñ-‡∏™‡∏∂" }
];

let lastCameraFrame = null;
let camReady = false;
let animId = null;
const ctx = document.getElementById('output-canvas').getContext('2d');
const videoElement = document.getElementById('input_video');

// --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏≥‡∏ó‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ---
function showRules() {
    const name = document.getElementById('inp-name').value.trim();
    if (!name) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠");
    G.user = { name, number: document.getElementById('inp-num').value.trim() };
    document.getElementById('screen-login').classList.add('hidden');
    document.getElementById('screen-rules').classList.remove('hidden');
}

function startGameFlow() {
    document.getElementById('screen-rules').classList.add('hidden');
    document.getElementById('player-label').innerText = G.user.name;
    document.getElementById('end-player').innerText = G.user.name;
    document.getElementById('final-number').innerText = G.user.number || '-';
    initCamera();
}

// --- ‡∏£‡∏∞‡∏ö‡∏ö AR & ‡∏Å‡∏•‡πâ‡∏≠‡∏á ---
async function initCamera() {
    document.getElementById('quick-loader').classList.remove('hidden');
    const faceMesh = new FaceMesh({locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`});
    faceMesh.setOptions({maxNumFaces: 1, minDetectionConfidence: 0.5, minTrackingConfidence: 0.5});
    faceMesh.onResults(onFaceResults);

    const camera = new Camera(videoElement, {
        onFrame: async () => { await faceMesh.send({image: videoElement}); },
        width: 1280, height: 720
    });
    camera.start();
}

function onFaceResults(res) {
    lastCameraFrame = res.image;
    if (res.multiFaceLandmarks && res.multiFaceLandmarks.length > 0) {
        const w = window.innerWidth, h = window.innerHeight;
        const lm = res.multiFaceLandmarks[0];
        const uLip = lm[13], lLip = lm[14], head = lm[10], chin = lm[152];
        G.mouth.open = Math.abs(uLip.y - lLip.y) > (Math.abs(head.y - chin.y) * CFG.mouthThresh);
        G.mouth.x = (1 - ((uLip.x + lLip.x) / 2)) * w;
        G.mouth.y = ((uLip.y + lLip.y) / 2) * h;
        if (!camReady) { camReady = true; document.getElementById('quick-loader').classList.add('hidden'); realStart(); }
    }
}

function realStart() {
    if (G.playing) return;
    G.playing = true;
    document.getElementById('hud').classList.remove('hidden');
    document.getElementById('hud').classList.add('flex');
    loadLevel();
    gameLoop();
}

// --- ‡πÄ‡∏Å‡∏°‡∏•‡∏≠‡∏à‡∏¥‡∏Å ---
function gameLoop() {
    if (!G.playing) return;
    const w = ctx.canvas.width = window.innerWidth;
    const h = ctx.canvas.height = window.innerHeight;

    ctx.save();
    ctx.clearRect(0, 0, w, h);
    if (lastCameraFrame) {
        ctx.translate(w, 0); ctx.scale(-1, 1);
        ctx.drawImage(lastCameraFrame, 0, 0, w, h);
    }
    ctx.restore();

    // ‡∏ß‡∏≤‡∏î‡∏õ‡∏≤‡∏Å
    ctx.beginPath(); ctx.arc(G.mouth.x, G.mouth.y, G.mouth.open ? 40 : 20, 0, Math.PI * 2);
    ctx.lineWidth = 4; ctx.strokeStyle = G.mouth.open ? '#4ade80' : '#f472b6'; ctx.stroke();

    if (Math.random() * 1000 < (1000 / CFG.spawnRate)) spawnItem();
    ctx.font = "bold 26px 'Prompt'"; ctx.textAlign = "center";

    for (let i = G.items.length - 1; i >= 0; i--) {
        let it = G.items[i]; it.y += it.vy; it.x += it.vx;
        const tw = ctx.measureText(it.text).width + 30;
        ctx.fillStyle = "rgba(139, 92, 246, 0.95)";
        ctx.beginPath(); ctx.roundRect(it.x - tw/2, it.y - 23, tw, 46, 15); ctx.fill();
        ctx.fillStyle = "white"; ctx.fillText(it.text, it.x, it.y + 10);

        if (Math.sqrt((it.x - G.mouth.x)**2 + (it.y - G.mouth.y)**2) < CFG.eatDist && G.mouth.open) {
            handleEat(it, i);
        } else if (it.y > h + 50) G.items.splice(i, 1);
    }
    animId = requestAnimationFrame(gameLoop);
}

function spawnItem() {
    const q = QUESTIONS[G.qIdx];
    const isCorrect = Math.random() > 0.4;
    G.items.push({
        x: Math.random() * (window.innerWidth - 100) + 50, y: -50,
        text: isCorrect ? q.c : q.w[Math.floor(Math.random() * q.w.length)],
        type: isCorrect ? 'c' : 'w', vx: (Math.random() - 0.5) * 1.5, vy: Math.random() * 1.5 + CFG.gravity
    });
}

function handleEat(item, idx) {
    if (item.type === 'c') {
        G.items = []; G.pendingItem = item; G.playing = false; cancelAnimationFrame(animId);
        G.score += 5; showToast(`‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ñ‡∏π‡∏Å! +5`, 'green');
        document.getElementById('screen-speech').classList.remove('hidden');
        document.getElementById('screen-speech').classList.add('flex');
        document.getElementById('sp-word').innerText = item.text;
        document.getElementById('sp-reading').innerText = `(${QUESTIONS[G.qIdx].p})`;
        document.getElementById('sp-meaning').innerText = QUESTIONS[G.qIdx].m;
        updateHUD(); resetMicUI();
    } else {
        G.items.splice(idx, 1); G.score = Math.max(0, G.score - 5); updateHUD();
        showToast(`‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏¥‡∏î! -5`, 'red');
    }
}

// --- ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á ---
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
let recognition;

function toggleListening() {
    if (G.isListening) { if (recognition) recognition.stop(); return; }
    startSpeechTask();
}

function startSpeechTask() {
    if (!SpeechRecognition) return alert("‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á");
    G.isListening = true;
    document.getElementById('mic-btn').classList.add('mic-listening');
    document.getElementById('mic-icon').innerText = "üõë";
    document.getElementById('sp-status').innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏±‡∏á...";
    
    recognition = new SpeechRecognition();
    recognition.lang = 'en-US';
    recognition.onresult = (e) => {
        const spoken = e.results[0][0].transcript.toLowerCase();
        const target = G.pendingItem.text.toLowerCase();
        if (spoken.includes(target) || spoken.slice(0,2) === target.slice(0,2)) endSpeech(true);
        else document.getElementById('sp-status').innerText = `‡πÑ‡∏î‡πâ‡∏¢‡∏¥‡∏ô‡∏ß‡πà‡∏≤: "${spoken}"...`;
    };
    recognition.onend = resetMicUI;
    recognition.start();
}

function resetMicUI() {
    G.isListening = false;
    document.getElementById('mic-btn').classList.remove('mic-listening');
    document.getElementById('mic-icon').innerText = "üéôÔ∏è";
}

function endSpeech(success) {
    document.getElementById('screen-speech').classList.add('hidden');
    document.getElementById('screen-speech').classList.remove('flex');
    if (success) { G.score += 5; showToast(`‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! +5`, 'green'); } 
    else { G.score = Math.max(0, G.score - 2); showToast(`‡∏Ç‡πâ‡∏≤‡∏°... -2`, 'red'); }
    if (++G.qIdx >= QUESTIONS.length) finishGame();
    else { G.playing = true; loadLevel(); gameLoop(); }
}

function loadLevel() {
    document.getElementById('question-text').innerText = `${G.qIdx + 1}. ${QUESTIONS[G.qIdx].q}`;
    updateHUD();
    const u = new SpeechSynthesisUtterance(QUESTIONS[G.qIdx].q);
    u.lang = 'en-US'; speechSynthesis.speak(u);
}

function finishGame() {
    G.playing = false; cancelAnimationFrame(animId);
    document.getElementById('screen-end').classList.remove('hidden');
    document.getElementById('screen-end').classList.add('flex');
    document.getElementById('final-score').innerText = G.score;
}

function updateHUD() { document.getElementById('score-box').innerText = G.score; }
function showToast(msg, c) {
    const t = document.getElementById('toast');
    t.innerText = msg; t.className = `self-center glass px-8 py-3 rounded-full text-base font-bold transition-opacity duration-300 ${c === 'green' ? 'text-green-400' : 'text-red-400'}`;
    t.classList.remove('hidden'); t.style.opacity = '1';
    setTimeout(() => { t.style.opacity = '0'; setTimeout(() => t.classList.add('hidden'), 300); }, 1500);
}
</script>
</body>

</html>
